<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ruby Playground</title>
    <link rel="stylesheet" href="build/src/index.css">
    <link rel="stylesheet" href="index.css">

    <script type="module" src="build/src/index.js"></script>
</head>

<body>
    <main>
        <div class="plrb-pane-container">
            <div class="plrb-editor-status-group">
                <div class="plrb-status-pane">
                    <div class="plrb-tools-metadata-message">
                        <span id="metadata" class="plrb-tools-metadata-revision"></span>
                    </div>
                    <div id="status" class="plrb-status-message"></div>
                </div>
                    <div class="plrb-editor-tabs" id="editor-tabs">
                    </div>
                <div id="editor" class="plrb-editor-pane"></div>
            </div>
            <div class="plrb-tools-output-group">
                <div class="plrb-tools-pane">
                    <div class="plrb-tools-button-group">
                        <select id="action" class="plrb-tools-more-tools-button">
                            <option value="eval">Evaluate</option>
                            <option value="compile">Compile</option>
                            <option value="syntax">Syntax (parse.y)</option>
                            <option value="syntax+prism">Syntax (Prism)</option>
                        </select>
                        <button id="button-run" class="plrb-tools-do-button">
                            <svg width="14" height="14" style="padding-top: 3px;">
                                <polygon points="0 0, 14 7, 0 14" fill="white" />
                            </svg>
                        </button>
                    </div>
                    <button id="button-show-config" class="plrb-icon-button plrb-tools-config-button">
                        <svg width="16" height="12">
                            <circle cx="2"  cy="7" r="2" fill="white" />
                            <circle cx="8"  cy="7" r="2" fill="white" />
                            <circle cx="14" cy="7" r="2" fill="white" />
                        </svg>
                    </button>
                    <button id="button-show-help" class="plrb-icon-button plrb-tools-help-button">?</button>
                </div>
                <div id="output" class="plrb-output-pane"></div>
            </div>
        </div>
    </main>

    <dialog id="modal-help" class="plrb-modal">
        <div class="plrb-modal-content">
            <form method="dialog">
                <button class="plrb-modal-close-button">X</button>
                <h1>Help</h1>
                <h2>Keyboard Shortcuts</h2>
                <p>
                    <table class="plrb-shortcut-table">
                        <tr>
                            <th>Shortcut</th>
                            <th>Action</th>
                        </tr>
                        <tr>
                            <td>
                                <code>Ctrl</code> + <code>Enter</code> or <code>Cmd</code> + <code>Enter</code>
                            </td>
                            <td>Run</td>
                        </tr>
                    </table>
                </p>
                <h2>Special Pragma Directives</h2>
                <p>
                    <table class="plrb-shortcut-table">
                        <tr>
                            <th>Pragma</th>
                            <th>Action</th>
                        </tr>
                        <tr>
                            <td>#--- [filename].rb</td>
                            <td>Split the code into multiple files like <a href="https://llvm.org/docs/TestingGuide.html#extra-files" target="_blank">LLVM split-file tool</a></td>
                        </tr>
                    </table>
                </p>
                <h2>Source Code</h2>
                <p>
                    This site is open source. You can find the source code at <a href="https://github.com/ruby/play.ruby-lang.org" target="_blank">GitHub</a>.
                </p>
                <h2>Privacy Policy</h2>
                <p>
                    This site <strong>does not</strong> collect any personal information, such as your IP address and code you entered.
                </p>
            </form>
        </div>
    </dialog>

    <dialog id="modal-config" class="plrb-modal">
        <div class="plrb-modal-content">
            <form method="dialog">
                <button class="plrb-modal-close-button">X</button>
            </form>
            <form id="config-form">
                <h1>Configuration</h1>
                <section id="config-github-pat">
                    <h2>GitHub Personal Access Token</h2>
                    <p>
                        If you want to try a Ruby built from a GitHub Action workflow, you need to set a GitHub Personal Access Token (PAT) at first.
                        Please <a href="https://github.com/settings/tokens/new?scopes=public_repo&description=play.ruby-lang.org" target="_blank">create a new PAT</a> with the <code>public_repo</code> scope and set it when you open this page.
                        <input id="config-github-token" class="plrb-modal-config-input" type="password" placeholder="ghp_***********************************" />
                    </p>
                    <button type="submit" id="config-save" class="plrb-modal-config-save-button">Save</button>
                </section>
                <section id="config-github-integration">
                    <h2>GitHub Integration</h2>
                    <p>
                        If you want to try a Ruby built from a GitHub Action workflow, you need to sign in to GitHub to be able to download artifacts via GitHub API.
                    </p>
                    <p>
                        <button id="config-github-sign-in" class="plrb-modal-config-github-sign-in-button">Sign in to GitHub</button>
                        <button id="config-github-sign-out" class="plrb-modal-config-github-sign-out-button">Sign out</button>
                    </p>
                </section>
            </form>
        </div>
    </dialog>
</body>

</html>
